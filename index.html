<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Provides functions to specify, fit and visualize
    nested partially-latent class models (
    Wu, Deloria-Knoll, Hammitt, and Zeger (2016) &lt;doi:10.1111/rssc.12101&gt;; 
    Wu, Deloria-Knoll, and Zeger (2017) &lt;doi:10.1093/biostatistics/kxw037&gt;;
    Wu and Chen (2021) &lt;doi:10.1002/sim.8804&gt;) for 
    inference of population disease etiology and individual diagnosis. In the motivating
    Pneumonia Etiology Research for Child Health (PERCH) study, because both quantities
    of interest sum to one hundred percent, the PERCH scientists frequently refer to
    them as population etiology pie and individual etiology pie, hence the name of the package.">
<title>"Nested Partially Latent Class Models" • baker</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="" nested partially latent class models>
<meta property="og:description" content="Provides functions to specify, fit and visualize
    nested partially-latent class models (
    Wu, Deloria-Knoll, Hammitt, and Zeger (2016) &lt;doi:10.1111/rssc.12101&gt;; 
    Wu, Deloria-Knoll, and Zeger (2017) &lt;doi:10.1093/biostatistics/kxw037&gt;;
    Wu and Chen (2021) &lt;doi:10.1002/sim.8804&gt;) for 
    inference of population disease etiology and individual diagnosis. In the motivating
    Pneumonia Etiology Research for Child Health (PERCH) study, because both quantities
    of interest sum to one hundred percent, the PERCH scientists frequently refer to
    them as population etiology pie and individual etiology pie, hence the name of the package.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">baker</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/baker_demo.html">Vignettes for baker: An R package for fitting nested partially latent class models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/zhenkewu/baker/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level2">
<h2 id="baker-bayesian-analysis-kit-for-etiology-research">
<strong>baker</strong>: Bayesian Analysis Kit for Etiology Research<a class="anchor" aria-label="anchor" href="#baker-bayesian-analysis-kit-for-etiology-research"></a>
</h2>
<blockquote>
<p>An R Package for Fitting Bayesian <a href="https://academic.oup.com/biostatistics/article/18/2/200/2555349/Nested-partially-latent-class-models-for-dependent" class="external-link">Nested Partially Latent Class Models</a></p>
</blockquote>
<p><a href="https://github.com/zhenkewu/baker/actions" class="external-link"><img src="https://github.com/zhenkewu/baker/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R build status"></a> <!-- [![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/zhenkewu/baker?branch=master&svg=true)](https://ci.appveyor.com/project/zhenkewu/baker) --> <a href="https://cran.r-project.org/package=baker" class="external-link"><img src="https://www.r-pkg.org/badges/version/baker?color=green"></a> <a href="https://cran.r-project.org/package=baker" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/baker?color=green"></a> <a href="https://cran.r-project.org/package=baker" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/last-month/baker?color=green"></a> <a href="https://cran.r-project.org/package=baker" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/last-week/baker?color=green"></a> <a href="https://github.com/zhenkewu/baker" class="external-link"><img src="https://img.shields.io/badge/devel%20version-1.0.2-blue.svg"></a> <a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg"></a></p>
<!-- [![Coverage status](https://codecov.io/gh/zhenkewu/baker/branch/master/graph/badge.svg)](https://codecov.io/github/zhenkewu/baker?branch=master) -->
<p><strong>Maintainer</strong>: Zhenke Wu, <a href="mailto:zhenkewu@umich.edu" class="email">zhenkewu@umich.edu</a></p>
<p><strong>Source Code</strong>: Please click <a href="https://github.com/zhenkewu/baker" class="external-link">here</a> for source code on GitHub.</p>
<p><strong>Issues</strong>: Please click <a href="https://github.com/zhenkewu/baker/issues" class="external-link">here</a> to report reproducible issues.</p>
<p><strong>Vignette</strong>: Please click <a href="https://zhenkewu.com/assets/html/baker_vignette.html" class="external-link">here</a> to read the latest long-version vignette; a short version can be found <a href="https://zhenkewu.com/baker/articles/baker_demo.html">here</a>.</p>
<p><strong>Package website:</strong> Please click <a href="https://zhenkewu.com/baker/">here</a> for a website generated by <code>pkgdown</code>, which contains html format of the package manual (“Refence”).</p>
<p><strong>References</strong>: If you are using <strong>baker</strong> for population and individual estimation from case-control data, please cite the following papers:</p>
<table class="table">
<colgroup>
<col width="5%">
<col width="94%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>Citation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>partially Latent Class Models (pLCM)</td>
<td>Wu, Z., Deloria-Knoll, M., Hammitt, L. L., Zeger, S. L. and the Pneumonia Etiology Research for Child Health Core Team (2016), Partially latent class models for case–control studies of childhood pneumonia aetiology. <em>J. R. Stat. Soc. C</em>, 65: 97–114. <a href="https://doi.org/10.1111/rssc.12101" class="external-link"><img src="https://img.shields.io/badge/doi-10.1111/rssc.12101-yellow.svg"></a>
</td>
</tr>
<tr class="even">
<td>nested pLCM</td>
<td>Wu, Z., Deloria-Knoll, M., Zeger, S.L.; Nested partially latent class models for dependent binary data; estimating disease etiology. <em>Biostatistics</em> 2017; 18 (2): 200-213. <a href="https://doi.org/10.1093/biostatistics/kxw037" class="external-link"><img src="https://img.shields.io/badge/doi-10.1093/biostatistics/kxw037-yellow.svg"></a>
</td>
</tr>
<tr class="odd">
<td>nested pLCM regression</td>
<td>Wu, Z., Chen, I (2021). Probabilistic Cause-of-disease Assignment using Case-control Diagnostic Tests: A Hierarchical Bayesian Approach. <em>Statistics in Medicine</em> 40(4):823-841. <a href="https://doi.org/10.1002/sim.8804" class="external-link"><img src="https://img.shields.io/badge/doi-10.1002/sim.8804-yellow.svg"></a>
</td>
</tr>
<tr class="even">
<td>Application</td>
<td>Maria Deloria Knoll, Wei Fu, Qiyuan Shi, Christine Prosperi, Zhenke Wu, Laura L. Hammitt, Daniel R. Feikin, Henry C. Baggett, Stephen R.C. Howie, J. Anthony G. Scott, David R. Murdoch, Shabir A. Madhi, Donald M. Thea, W. Abdullah Brooks, Karen L. Kotloff, Mengying Li, Daniel E. Park, Wenyi Lin, Orin S. Levine, Katherine L. O’Brien, Scott L. Zeger; Bayesian Estimation of Pneumonia Etiology: Epidemiologic Considerations and Applications to the Pneumonia Etiology Research for Child Health Study, <em>Clinical Infectious Diseases</em>, Volume 64, Issue suppl_3, 15 June 2017, Pages S213–S227 <a href="https://doi.org/10.1093/cid/cix144" class="external-link"><img src="https://img.shields.io/badge/doi-10.1093/cid/cix144-yellow.svg"></a>
</td>
</tr>
<tr class="odd">
<td>Primary PERCH Analysis</td>
<td>The PERCH Study Group (2019). Aetiology of severe hospitalized pneumonia in HIV-uninfected children from Africa and Asia: the Pneumonia Aetiology Research for Child Health (PERCH) Case-Control Study. <em>The Lancet</em> 394(10200): 757-779. <a href="https://doi.org/10.1016/S0140-6736(19)30721-4" class="external-link"><img src="https://img.shields.io/badge/doi-10.1016/S0140--6736(19)30721--4-yellow.svg"></a>
</td>
</tr>
<tr class="even">
<td>Software paper</td>
<td>Chen I, Shi Q, Zeger SL, Wu Z (2022+) <code>baker</code>: An <code>R</code> package for Nested Partially-Latent Class Models. <a href="https://arxiv.org/abs/2202.11778" class="external-link"><img src="https://img.shields.io/badge/arxiv-preprint-red.svg"></a> <a href="https://zhenkewu.com/assets/html/baker_vignette.html" class="external-link"><img src="https://img.shields.io/badge/vignette-workflow-blue.svg"></a>
</td>
</tr>
</tbody>
</table>
<p>There are a number of scientific papers on global health and infectious diseases that have used the model and some the software (in its earlier versions). Some notable examples are listed below:</p>
<table class="table">
<colgroup>
<col width="1%">
<col width="98%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>Notable References using <code>baker</code> (model and/or software)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Kubale et al. (2023). Etiology of acute lower respiratory illness hospitalizations among infants in four countries. <em>Open Forum Infectious Diseases</em>, ofad580. <a href="https://doi.org/10.1093/ofid/ofad580" class="external-link"><img src="https://img.shields.io/badge/doi-10.1093/ofid/ofad580-green.svg"></a>
</td>
</tr>
<tr class="even">
<td>2</td>
<td>Saha SK et al. (2018). Causes and incidence of community-acquired serious infections among young children in south Asia (ANISA): an observational cohort study. <em>The Lancet</em> 392(10142):145-159. <a href="https://doi.org/10.1016/S0140-6736(18)31127-9" class="external-link"><img src="https://img.shields.io/badge/doi-10.1016/S0140--6736(18)31127--9-green.svg"></a>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="table-of-content">Table of content<a class="anchor" aria-label="anchor" href="#table-of-content"></a>
</h2>
<div id="id-section1"></div>

<ul>
<li><a href="#id-section1">1. Installation</a></li>
<li><a href="#id-section2">2. Vignettes</a></li>
<li><a href="#id-section3">3. Graphical User Interface (GUI)</a></li>
<li><a href="#id-section4">4. Analytic Goal</a></li>
<li><a href="#id-section5">5. Comparison to Other Existing Solutions</a></li>
<li><a href="#id-section6">6. Details</a></li>
<li><a href="#id-section7">7. Platform</a></li>
<li><a href="#id-section8">8. Connect <code>R</code> to <code>JAGS</code> on Unix systems or OSX</a></li>
<li><a href="#id-section9">9. Submit Jobs to Computing Cluster via a shell script</a></li>
<li><a href="#id-section10">10. Connect <code>R</code> to <code>JAGS</code> on Windows</a></li>
<li><a href="#id-section11">11. Example Datasets</a></li>
</ul>
<div id="id-section1"></div>

</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools",repos="https://cloud.r-project.org")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"zhenkewu/baker"</span><span class="op">)</span></span></code></pre></div>
<p>Note:</p>
<ul>
<li>run <code>install.packages("pbkrtest")</code> for <code>R(&gt;=3.2.3)</code> if this package is reported as missing.</li>
<li>Windows User: use <code>devtools::install_github("zhenkewu/baker",INSTALL_opts=c("--no-multiarch"))</code> instead if you see an error message <code>ERROR: loading failed for 'i386'</code> (Thanks Chrissy!).</li>
</ul>
<div id="id-section2"></div>

</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"zhenkewu/baker"</span>, build_vignettes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># will take extra time to run a few examples.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/browseVignettes.html" class="external-link">browseVignettes</a></span><span class="op">(</span><span class="st">"baker"</span><span class="op">)</span></span></code></pre></div>
<div id="id-section3"></div>

</div>
<div class="section level2">
<h2 id="graphical-user-interface-gui">Graphical User Interface (GUI)<a class="anchor" aria-label="anchor" href="#graphical-user-interface-gui"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools",repos="http://watson.nci.nih.gov/cran_mirror/")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"zhenkewu/baker"</span><span class="op">)</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shiny"</span>, package <span class="op">=</span> <span class="st">"baker"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>For developers interested in low-level details, here is a pretty awesome <a href="https://stackoverflow.com/questions/44143110/visualizing-r-function-dependencies" class="external-link">visualization</a> of the function dependencies within the package:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">DependenciesGraphs</span><span class="op">)</span> <span class="co"># if not installed, try this-- devtools::install_github("datastorm-open/DependenciesGraphs")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">QualtricsTools</span><span class="op">)</span> <span class="co"># devtools::install_github("emmamorgan-tufts/QualtricsTools")</span></span>
<span><span class="va">dep</span> <span class="op">&lt;-</span> <span class="fu">funDependencies</span><span class="op">(</span><span class="st">'package:baker'</span>,<span class="st">'nplcm'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dep</span><span class="op">)</span></span></code></pre></div>
<p>You will get a dynamic figure. A snapshot is below:</p>
<p><img src="reference/figures/nplcm_functional_dependence.png"></p>
<div id="id-section4"></div>

</div>
<div class="section level2">
<h2 id="analytic-goal">Analytic Goal<a class="anchor" aria-label="anchor" href="#analytic-goal"></a>
</h2>
<ul>
<li>To study disease etiology from case-control data from multiple sources that have measurement errors. If you are interested in estimating the population etiology pie (fraction), and the probability of each cause for individual case, try <code>baker</code>.</li>
</ul>
<div id="id-section5"></div>

</div>
<div class="section level2">
<h2 id="comparison-to-other-existing-solutions">Comparison to Other Existing Solutions<a class="anchor" aria-label="anchor" href="#comparison-to-other-existing-solutions"></a>
</h2>
<ul>
<li>Acknowledges various levels of measurement errors and combines multiple sources of data for optimal disease diagnosis.</li>
<li>Main function: <code><a href="reference/nplcm.html">nplcm()</a></code> that fits the model with or without covariates.</li>
</ul>
<div id="id-section6"></div>

</div>
<div class="section level2">
<h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Implements hierarchical Bayesian models to infer disease etiology for multivariate binary data. The package builds in functionalities for data cleaning, exploratory data analyses, model specification, model estimation, visualization and model diagnostics and comparisons, catalyzing vital effective communications between analysts and practicing clinicians.</li>
<li>
<code>baker</code> has implemented models for dependent measurements given disease status, regression analyses of etiology, multiple imperfect measurements, different priors for true positive rates among cases with differential measurement characteristics, and multiple-pathogen etiology.</li>
<li>Scientists in <a href="https://www.jhsph.edu/ivac/" class="external-link">Pneumonia Etiology Research for Child Health</a> (PERCH) study usually refer to the etiology distribution as “<em>population etiology pie</em>” and “<em>individual etiology pie</em>” for their compositional nature, hence the name of the package.</li>
</ol>
<div id="id-section7"></div>

</div>
<div class="section level2">
<h2 id="platform">Platform<a class="anchor" aria-label="anchor" href="#platform"></a>
</h2>
<ul>
<li>The <code>baker</code> package is compatible with OSX, Linux and Windows systems, each requiring a slightly different setup as described below. If you need to speed up the installation and analysis, please contact the maintainer or chat by clicking the <code>gitter</code> button at the top of this README file.</li>
</ul>
<div id="id-section8"></div>

</div>
<div class="section level2">
<h2 id="connect-r-to-jags">Connect <code>R</code> to <code>JAGS</code>
<a class="anchor" aria-label="anchor" href="#connect-r-to-jags"></a>
</h2>
<div class="section level4">
<h4 id="mac-osx-1011">Mac OSX (10.11+)<a class="anchor" aria-label="anchor" href="#mac-osx-1011"></a>
</h4>
<ol style="list-style-type: decimal">
<li>Use <a href="https://mcmc-jags.sourceforge.io/" class="external-link">Just Another Gibbs Sampler (JAGS)</a>
</li>
<li>Install JAGS 4.3.2 (or 4.2.0 - currently it is slightly slower for 4.3.2, which was updated to be compatible with R 4.3.x); Download <a href="https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Mac%20OS%20X/" class="external-link">here</a>
</li>
<li>Install <code>R</code>; Download from <a href="https://cran.r-project.org/" class="external-link">here</a>
</li>
<li>Fire up <code>R</code>, run <code>R</code> command <code>install.packages("rjags")</code>
</li>
<li>Run <code>R</code> command <code><a href="https://mcmc-jags.sourceforge.io" class="external-link">library(rjags)</a></code> in R console; If the installations are successful, you’ll see some notes like this:</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="fu">library</span>(rjags)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>Loading required package<span class="sc">:</span> coda</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>Linked to JAGS <span class="fl">4.</span>x<span class="fl">.0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>Loaded modules<span class="sc">:</span> basemod,bugs</span></code></pre></div>
<ul>
<li>Run <code>R</code> command <code><a href="https://github.com/zhenkewu/baker" class="external-link">library(baker)</a></code>. If the package <code>ks</code> cannot be loaded due to failure of loading package <code>rgl</code>, first install X11 by going <a href="https://www.xquartz.org/releases/XQuartz-2.7.11.html" class="external-link">here</a>, followed by</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"http://download.r-forge.r-project.org/src/contrib/rgl_0.95.1504.tar.gz"</span>,repo<span class="op">=</span><span class="cn">NULL</span>,type<span class="op">=</span><span class="st">"source"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="unix-build-from-source-without-administrative-privilege">Unix (Build from source without administrative privilege)<a class="anchor" aria-label="anchor" href="#unix-build-from-source-without-administrative-privilege"></a>
</h4>
<p>Here we use <a href="https://jhpce.jhu.edu/" class="external-link">JHPCE</a> as an example. <a href="https://sourceforge.net/projects/mcmc-jags/files/Manuals/4.x/" class="external-link">The complete installation guide</a> offers extra information.</p>
<ol style="list-style-type: decimal">
<li><p>Download source code for <a href="https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Source/JAGS-4.2.0.tar.gz/download" class="external-link">JAGS 4.2.0</a>; The workflow would be similar for later versions of <code>JAGS</code>.</p></li>
<li>
<p>Suppose you’ve downloaded it in <code>~/local/jags/4.2.0</code>. Follow the bash commands below:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change to the directory with the newly downloaded source files:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ~/local/jags/4.2.0</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new folder named "usr"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> usr</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># decompress files:</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tar</span> zxvf JAGS-4.2.0.tar.gz</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># change to the directory with newly decompressed files:</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ~/local/jags/4.2.0/JAGS-4.2.0</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># specify new JAGS home:</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">JAGS_HOME</span><span class="op">=</span><span class="va">$HOME</span>/local/jags/4.2.0/usr</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="va">$JAGS_HOME</span>/bin:<span class="va">$PATH</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># link to BLAS and LAPACK:</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Here I have used "/usr/lib64/atlas/" and "/usr/lib64/" on JHPCE that give me</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co"># access to libblas.so.3 and liblapack.so.3. Please modify to paths on your system.</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="va">LDFLAGS</span><span class="op">=</span><span class="st">"-L/usr/lib64/atlas/ -L/usr/lib64/"</span> <span class="ex">./configure</span> <span class="at">--prefix</span><span class="op">=</span><span class="va">$JAGS_HOME</span> <span class="at">--libdir</span><span class="op">=</span><span class="va">$JAGS_HOME</span>/lib64 </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co"># if you have 8 cores:</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> <span class="at">-j8</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> install</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare to install R package, rjags:</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PKG_CONFIG_PATH</span><span class="op">=</span><span class="va">$HOME</span>/local/jags/4.2.0/usr/lib64/pkgconfig </span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="ex">module</span> load R</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span><span class="op">&gt;</span> install.packages<span class="er">(</span><span class="st">"rjags"</span><span class="kw">)</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co"># or if the above fails, try:</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="ex">R</span><span class="op">&gt;</span>install.packages<span class="er">(</span><span class="st">"rjags"</span><span class="ex">,</span> configure.args=<span class="st">"--enable-rpath"</span><span class="kw">)</span></span></code></pre></div>
</li>
<li><p>Also check out the <a href="https://CRAN.R-project.org/package=rjags/INSTALL" class="external-link">INSTALLATION</a> file for <code>rjags</code> package.</p></li>
</ol>
<div id="id-section9"></div>

</div>
</div>
<div class="section level2">
<h2 id="submitting-jobs-to-computing-cluster-via-a-shell-script">Submitting Jobs to Computing Cluster via a shell script<a class="anchor" aria-label="anchor" href="#submitting-jobs-to-computing-cluster-via-a-shell-script"></a>
</h2>
<p>Again, I use JHPCE as an example.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -M zhenkewu@gmail.com</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -N baker_regression_perch</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -o /users/zhwu/baker_regression/data_analysis/baker_regression_test.txt</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -e /users/zhwu/baker_regression/data_analysis/baker_regression_test.txt</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">JAGS_HOME</span><span class="op">=</span><span class="va">$HOME</span>/local/jags/4.2.0/usr</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="va">$JAGS_HOME</span>/bin:<span class="va">$PATH</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">LD_LIBRARY_PATH</span><span class="op">=</span><span class="va">$JAGS_HOME</span>/lib64</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /users/zhwu/baker_regression/data_analysis</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#$ -cwd</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"**** Job starts ****"</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"**** JHPCE info ****"</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"User: </span><span class="va">${USER}</span><span class="st">"</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Job id: </span><span class="va">${JOB_ID}</span><span class="st">"</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Job name: </span><span class="va">${JOB_NAME}</span><span class="st">"</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Hostname: </span><span class="va">${HOSTNAME}</span><span class="st">"</span> </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> real_regression_data_jhpce.R</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"**** Job ends ****"</span> </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span></span></code></pre></div>
<div id="id-section10"></div>

<div class="section level4">
<h4 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h4>
<ul>
<li>JAGS 4.2.0 (also applicable to later versions)</li>
</ul>
<ol style="list-style-type: decimal">
<li>Install <code>R</code>; Download from <a href="https://cran.r-project.org/" class="external-link">here</a>
</li>
<li>Install <a href="https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Windows/" class="external-link">JAGS 4.2.0</a>; Add the path to JAGS 4.2.0 into the environmental variable (essential for R to find the jags program). See <a href="https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10" class="external-link">this</a> for setting environmental variables;</li>
</ol>
<ul>
<li>alternatives are <code>brew install -v jags</code> for OSX, <code>sudo apt-get install jags</code> for Ubuntu/Debian</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Fire up <code>R</code>, run <code>R</code> command <code>install.packages("rjags")</code>
</li>
<li>Install <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link"><code>Rtools</code></a> (for building and installing R packages from source); Add the path to <code>Rtools</code> (e.g., <code>C:\Rtools\</code>) into your environmental variables so that R knows where to find it.</li>
</ol>
<!-- - [WinBUGS 1.4.3](http://www.mrc-bsu.cam.ac.uk/software/bugs/the-bugs-project-winbugs/) --><!--     1. Install the [patch](http://www.mrc-bsu.cam.ac.uk/software/bugs/the-bugs-project-winbugs/the-bugs-project-winbugs-patches/) --><!--     2. Install the WinBUGS 1.4.x [immortality key](http://www.mrc-bsu.cam.ac.uk/software/bugs/the-bugs-project-winbugs/) --><div id="id-section11"></div>

</div>
<div class="section level4">
<h4 id="example-data-sets">Example data sets<a class="anchor" aria-label="anchor" href="#example-data-sets"></a>
</h4>
<p>We provide two simulated data sets in the package:</p>
<p><code>data(data_nplcm_noreg)</code></p>
<p><code>data(data_nplcm_reg_nest)</code></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=baker" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/zhenkewu/baker/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/zhenkewu/baker/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing baker</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zhenke Wu <br><small class="roles"> Maintainer, author, copyright holder </small> <a href="https://orcid.org/0000-0001-7582-669X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Scott Zeger <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8907-1603" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Zhenke Wu, Scott Zeger.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
